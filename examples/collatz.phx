collatz': dup odd? (3 * 1 +) (2 /) if ;

collatz: 0 [] swap
  (dup 1 =)
  (dup rot >> swap collatz')
  until << ;

1 1000 .. (collatz len) maxby .
